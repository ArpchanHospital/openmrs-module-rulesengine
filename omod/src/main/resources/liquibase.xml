<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">

    <!--
        See http://www.liquibase.org/manual/home#available_database_refactorings
        for a list of supported elements and attributes
    -->
    <changeSet author="Gautam, Chethan" id="rulesengine-201603041601">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(concept_id) from concept where uuid="5090AAAAAAAAAAAAAAAAAAAAAAAAAAAA";
            </sqlCheck>
        </preConditions>
        <comment>update Height concept uuid to standard CEIL concept uuid</comment>
        <sql>
            update concept set uuid="5090AAAAAAAAAAAAAAAAAAAAAAAAAAAA" where concept_id in (
            select concept_name.concept_id from concept_name where name="Height" and concept_name_type="FULLY_SPECIFIED"
            );
        </sql>
    </changeSet>
    <changeSet author="Gautam, Chethan" id="rulesengine-201603041602">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(concept_id) from concept where uuid="5089AAAAAAAAAAAAAAAAAAAAAAAAAAAA";
            </sqlCheck>
        </preConditions>
        <comment>update Weight concept uuid to standard CEIL concept uuid</comment>
        <sql>
            update concept set uuid="5089AAAAAAAAAAAAAAAAAAAAAAAAAAAA" where concept_id in (
            select concept_name.concept_id from concept_name where name="Weight" and concept_name_type="FULLY_SPECIFIED"
            );
        </sql>
    </changeSet>
</databaseChangeLog>